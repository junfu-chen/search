<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"><![endif]--> <!--[if IE 7]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if IE 8]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]--> <head> <meta charset="utf-8"> <!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]--> <meta name="viewport" content="width=device-width,initial-scale=1"> <meta name="author" content="曾屹"> <meta name="description" content="如何在 Windows 上安装 Jekyll"/> <meta name="keywords" content="yizeng,jekyll,ruby,windows"/> <title>在 Windows 上安装 Jekyll - 曾屹</title> <link href='/assets/css/blog-style.css' rel="stylesheet" type="text/css"> <link href="/rss.xml" rel="alternate" title="曾屹" type="application/rss+xml"> <!--[if IE]><script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.0.6/modernizr.min.js"></script> <script>window.Modernizr||document.write('<script src="/assets/js/modernizr-2.0.6.min.js"><\/script>');</script><![endif]--> <!--[if !IE]>--> <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script> <script>window.Modernizr||document.write('<script src="/assets/js/modernizr-2.6.2.min.js"><\/script>');</script> <!--<![endif]--> </head> <body> <!--[if IE]><p class="site-notice">您正在使用一个过时的网页浏览器。请<a href="http://browsehappy.com/" target="_blank">升级您的浏览器</a>或<a href="http://www.google.com/chromeframe/?redirect=true" target="_blank">开启 Google Chrome Frame</a> 来提高用户体验。</p><![endif]--> <noscript> <p class="site-notice">本网站需要 JavaScript。请查阅指南来<a href="http://www.enable-javascript.com/" target="_blank">给您的浏览器开启 JavaScript 功能</a>。</p> </noscript> <div class="nav-wrapper"> <div class="nav-form"> <input type="text" class="search-field" placeholder="菜单"> <a class="btn-close">关闭</a> <div class="results"> <a href="/articles">文章列表</a> <a href="/notes">笔记列表</a> <a href="/categories">博文分类</a> <a href="/tags">博文标签</a> <a href="/">关于</a> </div> </div> </div> <div class="search-wrapper"> <div class="search-form"> <input type="text" class="search-field" placeholder="搜索..."> <a class="btn-close">关闭</a> <ul class="results"></ul> </div> </div> <div id="page" class="hentry"> <header class="the-header"> <div class="unit-head"> <div class="unit-inner unit-head-inner"> <nav class="nav-global"> <ul> <li class="logo nav-link"> <button class="btn-menu" data-ga="Menu"></button> <a href="/blog">曾屹</a> <!--[if !IE]>--><button class="btn-search" data-ga="Search"></button><!--<![endif]--> </li> <li class="nav-link"><a data-ga="Articles" href="/articles">文章列表</a></li> <li class="nav-link"><a data-ga="Notes" href="/notes">笔记列表</a></li> <li class="nav-link"><a data-ga="Categories" href="/categories">博文分类</a></li> <li class="nav-link"><a data-ga="Tags" href="/tags">博文标签</a></li> <!--[if !IE]>--><li class="nav-link"><a data-ga="Search" class="btn-search" href="#">博文搜索</a></li><!--<![endif]--> </ul> </nav> </div> </div> </header> <div class="body animated fadeInDown" role="main"> <div class="unit-body"> <div class="unit-inner unit-body-inner"> <div class="entry-content"> <article class="unit-article layout-post"> <div class="unit-inner unit-article-inner"> <div itemscope itemtype="http://schema.org/Article" class="content"> <header> <div class="unit-head"> <div class="unit-inner unit-head-inner"> <h1 itemprop="name" class="entry-title">在 Windows 上安装 Jekyll</h1> </div> </div> </header> <div class="bd"> <div class="entry-content"> <div class="meta"> <p class="date-publish"> 发表信息: <time itemprop="datePublished" class="date-pub " title="2013-05-10T00:00:00+12:00" datetime="2013-05-10T00:00:00+12:00">May 10, 2013 </time> by <a class="author" href="/" rel="author"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">曾屹</span></span></a> <a class="license image-link" rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank"> <img alt="Creative Commons Licence" style="border-width:0" src="/assets/images/cc-by-sa.png" height="16" width="80"/> </a> (最后更新于: <time class="date-updated updated" title="2014-04-20T00:00:00+12:00" datetime="2014-04-20T00:00:00+12:00">April 20, 2014</time>) </p> <ul class="list-category list-linear"> <li class="list-head">博文分类: </li> <li> <a data-ga="notes" href="/categories/#category-notes" title="notes"> notes <span>4</span></a> </li> <li> <a data-ga="popular" href="/categories/#category-popular" title="popular"> popular <span>6</span></a> </li> </ul> <ul class="list-tag list-linear"> <li class="list-head">博文标签: </li> <li> <a data-ga="jekyll" href="/tags/#tag-jekyll" title="jekyll">jekyll <span>3</span></a> </li> <li> <a data-ga="ruby" href="/tags/#tag-ruby" title="ruby">ruby <span>4</span></a> </li> <li> <a data-ga="windows" href="/tags/#tag-windows" title="windows">windows <span>2</span></a> </li> </ul> </div> <div itemprop="articleBody"> <blockquote> <p>若想查看原文，请点击<a href="http://yizeng.me/2013/05/17/quick-rubygems-command-references-for-jekyll/">本链接</a>。</p> </blockquote> <ul class="toc" id="markdown-toc"> <li><a href="#install-ruby">安装 Ruby</a></li> <li><a href="#install-devkit">安装 DevKit</a></li> <li><a href="#install-jekyll">安装 Jekyll</a></li> <li><a href="#install-pygements">安装 Pygments</a> <ul> <li><a href="#install-python">安装 Python</a></li> <li><a href="#install-easy-install">安装 ‘Easy Install’</a></li> <li><a href="#install-pygements-2">安装 Pygments</a></li> </ul> </li> <li><a href="#start-jekyll">启动 Jekyll</a></li> <li><a href="#troubleshooting">故障诊断</a></li> </ul> <h2 id="install-ruby">安装 Ruby</h2> <ol> <li> <p>前往 <a href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a></p> </li> <li> <p>在 “RubyInstallers” 部分，选择某个版本点击下载。<br/> 例如， Ruby 2.0.0-p451 (x64) 是适于64位 Windows 机器上的 Ruby 2.0.0 x64 安装包。</p> </li> <li> <p>通过安装包安装</p> <ul> <li>最好保持默认的路径 <code>C:\Ruby200-x64</code>， 因为安装包明确提出 “请不要使用带有空格的文件夹 (如： Program Files)”。</li> <li>勾选 “Add Ruby executables to your PATH”，这样执行程序会被自动添加至 PATH 而避免不必要的头疼。</li> </ul> <p><a class="post-image" href="/assets/images/posts/2013-05-11-ruby-installer.png"> <img itemprop="image" data-src="/assets/images/posts/2013-05-11-ruby-installer.png" src="/assets/js/unveil/loader.gif" alt="Windows Ruby 安装包"/> </a></p> </li> <li> <p>打开一个命令提示行并输入以下命令来检测 Ruby 是否成功安装。</p> <blockquote> <p>ruby -v</p> </blockquote> <p>输出示例：</p> <blockquote> <p>ruby 2.0.0p451 (2014-02-24) [x64-mingw32]</p> </blockquote> </li> </ol> <h2 id="install-devkit">安装 DevKit</h2> <p>DevKit 是一个在 Windows 上帮助简化安装及使用 Ruby C/C++ 扩展如 RDiscount 和 RedCloth 的工具箱。 详细的安装指南可以在程序的 <a href="https://github.com/oneclick/rubyinstaller/wiki/Development-Kit#installation-instructions">wiki 页面</a> 阅读。</p> <ol> <li> <p>再次前往 <a href="http://rubyinstaller.org/downloads/">http://rubyinstaller.org/downloads/</a></p> </li> <li> <p>下载同系统及 Ruby 版本相对应的 DevKit 安装包。 例如，DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe 适用于64位 Windows 系统上的 Ruby 2.0.0 x64。</p> <p>下面列出了如何选择正确的 DevKit 版本：</p> <blockquote> <p><strong>Ruby 1.8.6 to 1.9.3</strong>: DevKit tdm-32-4.5.2<br/> <strong>Ruby 2.0.0</strong>: DevKit mingw64-32-4.7.2<br/> <strong>Ruby 2.0.0 x64</strong>: DevKit mingw64-64-4.7.2</p> </blockquote> </li> <li> <p>运行安装包并解压缩至某文件夹，如 C:\DevKit</p> </li> <li> <p>通过初始化来创建 config.yml 文件。在命令行窗口内，输入下列命令：</p> <blockquote> <p>cd “C:\DevKit”<br/> ruby dk.rb init<br/> notepad config.yml</p> </blockquote> </li> <li> <p>在打开的记事本窗口中，于末尾添加新的一行 <code>- C:\Ruby200-x64</code>，保存文件并退出。</p> </li> <li> <p>回到命令行窗口内，审查（非必须）并安装。</p> <blockquote> <p>ruby dk.rb review<br/> ruby dk.rb install</p> </blockquote> </li> </ol> <h2 id="install-jekyll">安装 Jekyll</h2> <ol> <li> <p>确保 gem 已经正确安装</p> <blockquote> <p>gem -v</p> </blockquote> <p>输出示例：</p> <blockquote> <p>2.0.14</p> </blockquote> </li> <li> <p>安装 Jekyll gem</p> <blockquote> <p>gem install jekyll</p> </blockquote> </li> </ol> <h2 id="install-pygements">安装 Pygments</h2> <p>Jekyll 里默认的语法高亮插件是 <a href="http://pygments.org/">Pygments</a>。 它需要安装 Python 并在网站的配置文件 <code>_config.yml</code> 里将 <code>highlighter</code> 的值设置为 <code>pygments</code>。</p> <p>不久之前，Jekyll 还添加另一个高亮引擎名为 <a href="https://github.com/jayferd/rouge">Rouge</a>， 尽管暂时不如 Pygments 支持那么多的语言，但它是原生 Ruby 程序，而不需要使用 Python。 更多信息请<a href="http://jekyllrb.com/docs/templates/#code_snippet_highlighting">点此</a>关注。</p> <h3 id="install-python">安装 Python</h3> <ol> <li>前往 <a href="http://www.python.org/download/">http://www.python.org/download/</a></li> <li>下载合适的 Python windows 安装包，如 Python 2.7.6 Windows Installer。 请注意，Python 2 可能会更合适，因为暂时 Python 3 可能不会正常工作。</li> <li>安装</li> <li>添加安装路径 (如： C:\Python27) 至 PATH。(如何操作? 请参见 <a href="#troubleshooting">故障诊断 #1</a>)</li> <li> <p>检验 Python 安装是否成功</p> <blockquote> <p>python –version</p> </blockquote> <p>输出示例：</p> <blockquote> <p>Python 2.7.6</p> </blockquote> </li> </ol> <h3 id="install-easy-install">安装 ‘Easy Install’</h3> <ol> <li>浏览 <a href="https://pypi.python.org/pypi/setuptools#installation-instructions">https://pypi.python.org/pypi/setuptools#installation-instructions</a> 来查看详细的安装指南。</li> <li> <p>对于 Windows 7 的机器，下载 <a href="https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py">ez_setup.py</a> 并保存，例如，至<code>C:\</code>。 然后从命令行使用 Python 运行此文件：</p> <blockquote> <p>python “C:\ez_setup.py”</p> </blockquote> </li> <li>添加 ‘Python Scripts’ 路径 (如： C:\Python27\Scripts) 至 PATH</li> </ol> <h3 id="install-pygements-2">安装 Pygments</h3> <ol> <li> <p>确保 easy_install 已经正确安装</p> <blockquote> <p>easy_install –version</p> </blockquote> <p>输出示例：</p> <blockquote> <p>setuptools 3.1</p> </blockquote> </li> <li> <p>使用 “easy_install” 来安装 Pygments</p> <blockquote> <p>easy_install Pygments</p> </blockquote> </li> </ol> <h2 id="start-jekyll">启动 Jekyll</h2> <p>按照官方的 <a href="http://jekyllrb.com/docs/quickstart/">Jekyll 快速开始手册</a> 的步骤， 一个新的 Jekyll 博客可以被建立并在 <a href="http://localhost:4000">localhost:4000</a>浏览。</p> <blockquote> <p>jekyll new myblog<br/> cd myblog<br/> jekyll serve</p> </blockquote> <h2 id="troubleshooting">故障诊断</h2> <ol> <li> <p>错误信息：</p> <pre><code>“python” is not recognized as an internal or external command, operable program or batch file.
</code></pre> <p><strong>其他情况</strong>： 这里的 “python” 也可能是 “ruby”， “gem” 或是 “easy_install” 等。</p> <p><strong>可能原因</strong>： 该程序可能未被正确地安装或未在 PATH 里设置成功。</p> <p><strong>尝试解法</strong>： 确保程序已被正确安装。然后手动将其添加至 PATH，请参考如下步骤<sup><a id="footnote-ref-1" href="#footnote-1">[1]</a></sup>。</p> <blockquote> <ol> <li>按住 Win 键再按下 Pause</li> <li>点击 Advanced System Settings</li> <li>点击 Environment Variables</li> <li>将 ;C:\python27 添加至 Path 变量的末尾</li> <li>重启命令行</li> </ol> </blockquote> </li> <li> <p>错误信息：</p> <pre><code>ERROR:  Error installing jekyll:
ERROR: Failed to build gem native extension.

"C:/Program Files/Ruby/Ruby200-x64/bin/ruby.exe" extconf.rb

creating Makefile
make generating stemmer-x64-mingw32.def
compiling porter.c
...
make install
/usr/bin/install -c -m 0755 stemmer.so C:/Program Files/Ruby/Ruby200-x64/lib/ruby/gems/2.0.0/gems/fast-stemmer-1.0.2/li
/usr/bin/install: target `Files/Ruby/Ruby200-x64/lib/ruby/gems/2.0.0/gems/fast-stemmer-1.0.2/lib' is not a directory
make: *** [install-so] Error 1
</code></pre> <p><strong>可能原因</strong>： Ruby 被安装在含有空格的路径里。</p> <p><strong>尝试解法</strong>： 重新安装 Ruby，这次请不要使用带有空格的路径，或者请直接选择使用默认路径。</p> </li> <li> <p>错误信息：</p> <pre><code>Generating... Liquid Exception: No such file or directory - python c:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/pygments.rb-0.4.2/lib/pygments/mentos.py in 2013-04-22-yizeng-hello-world.md
</code></pre> <p><strong>可能原因</strong>： Pygments 未能被正确安装或是 PATH 设置尚未生效。</p> <p><strong>尝试解法</strong>： 首先请确保 Pygments 已成功安装且 Python 的 PATH 设置正确未包含空格和最后多余的斜杠。 然后重启命令行。如果依旧失败，请尝试注销并重新登录 Windows。 甚至使用终极解法，重启电脑。</p> </li> <li> <p>错误信息：</p> <pre><code>Generating... Liquid Exception: No such file or directory - /bin/sh in _posts/2013-04-22-yizeng-hello-world.md
</code></pre> <p><strong>可能原因</strong>： 与 pygments.rb 0.5.1/0.5.2 版本的兼容性问题。</p> <p><strong>尝试解法</strong>： 将 pygments.rb gem 的版本从 0.5.1/0.5.2 降至 0.5.0。</p> <blockquote> <p>gem uninstall pygments.rb –version ‘=0.5.2’<br/> gem install pygments.rb –version 0.5.0</p> </blockquote> </li> <li> <p>错误信息：</p> <pre><code>c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/dependency.rb:296:in `to_specs': Could not find 'pygments.rb' (~&gt; 0.4.2) - did find: [pygments.rb-0.5.0] (Gem::LoadError)
from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1196:in `block in activate_dependencies'
from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1185:in `each'
from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1185:in `activate_dependencies'
from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1167:in `activate'
from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/core_ext/kernel_gem.rb:48:in`gem'
from c:/Ruby200-x64/bin/jekyll:22:in `&lt;main&gt;'`
</code></pre> <p><strong>可能原因</strong>：如错误信息所述，找不到 pygments.rb 0.4.2，仅找到 pygments.rb 0.5.0。 （此问题出现于此文初稿时的 Jekyll 版本，现版本应已修复）</p> <p><strong>尝试解法</strong>： 将 pygments.rb gem 的版本降级至 0.4.2</p> <blockquote> <p>gem uninstall pygments.rb –version “=0.5.0”<br/> gem install pygments.rb –version “=0.4.2”</p> </blockquote> </li> <li> <p>错误信息：</p> <pre><code>Generating... You are missing a library required for Markdown. Please run:
$ [sudo] gem install rdiscount
Conversion error: There was an error converting '_posts/2013-04-22-yizeng-hello-world.md/#excerpt'.

ERROR: YOUR SITE COULD NOT BE BUILT:
   ------------------------------------
   Missing dependency: rdiscount
</code></pre> <p><strong>可能原因</strong>： 依赖包 <code>rdiscount</code> 未找到。 此问题最有可能的原因是，网站使用的是 <a href="https://github.com/davidfstr/RDiscount">rdiscount</a> 作为 Markdown 引擎，而不是 Jekyll 默认的引擎，故需要手动自行安装。</p> <p><strong>尝试解法</strong>：</p> <blockquote> <p>gem install rdiscount</p> </blockquote> </li> <li> <p>错误信息：</p> <pre><code>c:/Ruby200-x64/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require': cannot load such file -- wdm (LoadError)
from c:/Ruby200-x64/lib/ruby/site_ruby/2.0.0/rubygems/core_ext/kernel_require.rb:55:in `require'
from c:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/listen-1.3.1/lib/listen/adapter.rb:207:in `load_dependent_adapter'
from c:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/listen-1.3.1/lib/listen/adapters/windows.rb:33:in `load_dependent_a
dapter'
...
</code></pre> <p><strong>可能原因</strong>： <code>wdm</code> gem 未被安装。因为 Jekyll 只官方地支持 *nix 系统，所以 <a href="https://github.com/Maher4Ever/wdm">Windows Directory Monitor</a> 并没有作为依赖包而被自动安装。</p> <p><strong>尝试解法</strong>：</p> <blockquote> <p>gem install wdm</p> </blockquote> </li> </ol> <div class="footnotes"><hr/><p id="footnote-1"> [1]: <a href="http://stackoverflow.com/a/6318188/1177636">在 Windows 7 上添加 Python Path</a> by melhosseiny. <a class="reverse-footnote internal" data-ga="Reverse Footnote" href="#footnote-ref-1" title="Back">↩</a> </p></div> </div> </div> </div> <footer class="unit-foot"> <div class="unit-inner unit-foot-inner"> <nav class="pagination"> <ul> <li class="next"><a class="internal" data-ga="Next Post" rel="next" href="/2013/05/17/quick-rubygems-command-references-for-jekyll" title="View 'Jekyll 使用过程中的一些常用的 RubyGems 命令'">Jekyll 使用过程中的一些常用的 RubyGems 命令 &#62;&#62; </a></li> </ul> </nav> <p class="gotop"><a class="internal" href="#page">返回顶部</a></p> </div> </footer> <div class="misc-content"> <div class="comment"> <button class="center-block show-hidden" data-ga="Show Comments" data-disqus-url="http://cn.yizeng.me/2013/05/10/setup-jekyll-on-windows/">显示评论</button> <div id="disqus_thread"></div> </div> </div> </div> </div> </article> </div> </div> </div> </div> <footer class="the-footer"> <div class="unit-foot"> <div class="unit-inner unit-foot-inner"> <div class="misc vcard"> <div class="about"> <h4><a href="/">关于</a></h4> <p>译自 <a href="http://yizeng.me">yizeng.me</a></p> </div> <div class="social-links"> <a class="ico-linkedin" href="http://linkedin.com/in/yizengnz/" rel="me" target="_blank" title="LinkedIn Profile"></a> <a class="ico-github" href="http://github.com/yizeng/" rel="me" target="_blank" title="GitHub Page"></a> <a class="ico-gmail" href="http://scr.im/yizengme/" rel="me" target="_blank" title="Email Address"></a> <a class="ico-stackoverflow" href="http://stackoverflow.com/users/1177636/user1177636" rel="me" target="_blank" title="StackOverflow Profile"></a> <a class="ico-rss" href="/rss.xml" rel="me" target="_blank" title="RSS Feeds"></a> </div> </div> </div> </div> <a href="#" class="internal back-to-top">返回顶部</a> </footer> </div> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script>window.jQuery||document.write('<script src="/assets/js/jquery-1.11.0.min.js"><\/script>');</script> <!--[if !IE]>--> <script src="//cdnjs.cloudflare.com/ajax/libs/pace/0.4.17/pace.min.js"></script> <script>window.Pace||document.write('<script src="/assets/js/pace.min.js"><\/script>');</script> <!--<![endif]--> <script>$(document).ready(function(){var c=50,b=500,a=1350;$(window).scroll(function(){if($(window).width()>a){if($(this).scrollTop()>c){$("footer").css("top","20px");$("footer .back-to-top").fadeIn(b)}else{$("footer").css("top","auto");$("footer .back-to-top").fadeOut(b)}}});$(window).resize(function(){if($(window).width()<a){$("footer").css("top","auto");$("footer .back-to-top").fadeOut(b)}if($(window).width()>=a&&$(this).scrollTop()>c){$("footer").css("top","20px");$("footer .back-to-top").fadeIn(b)}});$("footer .back-to-top").click(function(d){d.preventDefault();$("html, body").animate({scrollTop:0},b);return false})});</script> <script>var sendGaEvent=function(b,c,a){if(a==="undefined"){ga("send","event",b,c)}else{ga("send","event",b,c,a.trim())}};$(document).ready(function(){$(".the-header .nav-link a").on("click",function(){label=(this.getAttribute("data-ga")!==null)?this.getAttribute("data-ga"):this.textContent;sendGaEvent("Internal Links","Click",label)});$(".the-header .nav-link button").on("click",function(){sendGaEvent("Navigation Buttons","Click",this.getAttribute("data-ga"))});$("[class$=wrapper] .results a").on("click",function(){sendGaEvent("Overlay Links","Click",this.textContent)});$(".the-footer .about a").on("click",function(){sendGaEvent("Footer Links","Click",this.textContent)});$(".the-footer .social-links > a").on("click",function(){sendGaEvent("Social Links","Click",this.title)});$(".tag_box.categories a").on("click",function(){sendGaEvent("Categories","Click",this.title)});$(".tag_box.tags a").on("click",function(){sendGaEvent("Tags","Click",this.title)});$("a.internal, .unit-article .comment .show-hidden").on("click",function(){label=(this.getAttribute("data-ga")!==null)?this.getAttribute("data-ga"):this.textContent;sendGaEvent("Internal Links","Click",label)});$(".unit-article .meta .author").on("click",function(){sendGaEvent("Post meta Links","Click","Author")});$(".unit-article .meta .license").on("click",function(){sendGaEvent("Post meta Links","Click","License")});$(".unit-article .meta .list-linear a").on("click",function(){if(this.getAttribute("data-ga")!==null){sendGaEvent("Post meta Links","Click",this.getAttribute("data-ga"))}})});</script> <script src="/assets/js/jekyll-search.jquery.js"></script> <script>$(document).ready(function(){$(".search-field").simpleJekyllSearch({jsonFile:"/search.json",template:'<li><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></li>',searchResults:".search-wrapper .results",searchResultsTitle:"<h4>搜索结果</h4>",noResults:"<p>啊哈<br/><small>什么也没找到 :(</small></p>"})});(function(c,b,d){var a=function(){c(".nav-wrapper, .search-wrapper").removeAttr("style");c(".nav-form, .search-form").removeClass("active");c("body").removeClass("nav-overlay search-overlay")};c(".nav-global .btn-search").on("click",function(){c(".search-wrapper").css({display:"block"});c(".search-form").addClass("active");c(".search-form").find("input").focus();c("body").addClass("search-overlay")});c(".nav-global .btn-menu").on("click",function(){c(".nav-wrapper").css({display:"block"});c(".nav-form").addClass("active");c(".nav-form .search-field").prop("disabled",true);c("body").addClass("nav-overlay")});c(".nav-wrapper .btn-close, .search-wrapper .btn-close").on("click",function(){a()});c(document).on("keyup",function(f){if(f.keyCode===27){a()}})})(jQuery,window);</script> <script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js'></script> <script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-buttons.min.js'></script> <script>window.jQuery.fancybox||document.write('<script src="/assets/js/fancybox/jquery.fancybox.pack.js?v=2.1.4"><\/script>');</script> <script>window.jQuery.fancybox.helpers.buttons||document.write('<script src="/assets/js/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"><\/script>');</script> <script>$("head").append('<link rel="stylesheet" href="/assets/js/fancybox/jquery.fancybox.css?v=2.1.4" type="text/css" />');$("head").append('<link rel="stylesheet" href="/assets/js/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" />');$(".post-image").fancybox({prevEffect:"none",nextEffect:"none",closeBtn:true,helpers:{title:{type:"float"}}});</script> <script src="/assets/js/unveil/jquery.unveil.min.js"></script> <script>$(document).ready(function(){$(".post-image > img").unveil(450)});</script> <script>$(document).ready(function(){var b="ULZ0b9TFdfCUJSKQd4WCKv2v3u25YoG7YG8zXPewkWrT35lZ0Se9YnxLzoV6VM8W";var c="yizeng-cn";var a="link:"+$(".comment .show-hidden").attr("data-disqus-url");$.ajax({type:"GET",url:"https://disqus.com/api/3.0/threads/set.jsonp",data:{api_key:b,forum:c,thread:a},cache:false,dataType:"jsonp",success:function(d){if(d.response.length===1){btnText="显示评论 ("+d.response[0].posts+")";$(".comment .show-hidden").html(btnText)}}});$(".comment .show-hidden").on("click",function(){$.ajaxSetup({cache:true});$.getScript("http://"+c+".disqus.com/embed.js");$.ajaxSetup({cache:false});$(this).remove()});if(/\#comment/.test(location.hash)){$(".comment .show-hidden").trigger("click")}});</script> <script>if(!navigator.userAgent.match(/.*(Pingdom|PhantomJS|bot|StatusCake).*/gi)){(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-42466615-2","auto");ga("send","pageview")};</script> </body> </html>