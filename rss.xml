<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>曾屹</title>
        <description>曾屹</description>
        <atom:link href="http://cn.yizeng.me/rss.xml" rel="self" type="application/rss+xml" />
        <link>http://cn.yizeng.me</link>
        <lastBuildDate>Sun, 09 Mar 2014 21:37:22 +1300</lastBuildDate>
        <pubDate>Sun, 09 Mar 2014 21:37:22 +1300</pubDate>
        <ttl>1800</ttl>

        
            <item>
                    <title>在运行时更新 App.config 里的 AppSettings 属性及自定义配置节</title>
                    <description>

&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;app-config&quot;&gt;&lt;/a&gt;App.config 文件&lt;/h2&gt;

&lt;p&gt;如下为一个 &lt;code&gt;App.config&lt;/code&gt; 的文件示例，将被用来讲解如何在运行时更新（添加，修改或删除）App.config 里的 AppSettings 属性及自定义配置节。&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;xml&quot;&gt;﻿﻿&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;configSections&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;sectionGroup&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;geoSettings&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;section&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;summary&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;System.Configuration.NameValueSectionHandler&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/sectionGroup&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/configSections&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;appSettings&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;add&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Language&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Ruby&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;add&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Version&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;1.9.3&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/appSettings&amp;gt;&lt;/span&gt;

    &lt;span class=&quot;nt&quot;&gt;&amp;lt;geoSettings&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;summary&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;add&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Country&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;New Zealand&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;lt;add&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;key=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;City&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Christchurch&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/summary&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/geoSettings&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;update-appsettings&quot;&gt;&lt;/a&gt;更新 AppSettings&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;add-in-appsettings&quot;&gt;&lt;/a&gt;添加一个元素&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
config.AppSettings.Settings.Add(&amp;quot;OS&amp;quot;, &amp;quot;Linux&amp;quot;);
config.Save(ConfigurationSaveMode.Modified);

ConfigurationManager.RefreshSection(&amp;quot;appSettings&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;edit-in-appsettings&quot;&gt;&lt;/a&gt;修改已有元素的键值&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
config.AppSettings.Settings[&amp;quot;Version&amp;quot;].Value = &amp;quot;2.0.0&amp;quot;;
config.Save(ConfigurationSaveMode.Modified);

ConfigurationManager.RefreshSection(&amp;quot;appSettings&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;remove-in-appsettings&quot;&gt;&lt;/a&gt;删除已有的元素&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;Configuration config = ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);
config.AppSettings.Settings.Remove(&amp;quot;Version&amp;quot;);
config.Save(ConfigurationSaveMode.Modified);

ConfigurationManager.RefreshSection(&amp;quot;appSettings&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;update-custom-section&quot;&gt;&lt;/a&gt;更新自定义配置节&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;add-in-custom-section&quot;&gt;&lt;/a&gt;添加一个元素&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;XmlDocument xmlDoc = new XmlDocument();
xmlDoc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);

// create new node &amp;lt;add key=&amp;quot;Region&amp;quot; value=&amp;quot;Canterbury&amp;quot; /&amp;gt;
XmlElement nodeRegion = xmlDoc.CreateElement(&amp;quot;add&amp;quot;);
nodeRegion.SetAttribute(&amp;quot;key&amp;quot;, &amp;quot;Region&amp;quot;);
nodeRegion.SetAttribute(&amp;quot;value&amp;quot;, &amp;quot;Canterbury&amp;quot;);
xmlDoc.SelectSingleNode(&amp;quot;//geoSettings/summary&amp;quot;).AppendChild(nodeRegion);

xmlDoc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
ConfigurationManager.RefreshSection(&amp;quot;geoSettings/summary&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;edit-in-custom-section&quot;&gt;&lt;/a&gt;修改已有元素的键值&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;XmlDocument xmlDoc = new XmlDocument();
xmlDoc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);

xmlDoc.SelectSingleNode(&amp;quot;//geoSettings/summary/add[@key=&amp;#39;Country&amp;#39;]&amp;quot;).Attributes[&amp;quot;value&amp;quot;].Value = &amp;quot;Old Zeeland&amp;quot;;

xmlDoc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
ConfigurationManager.RefreshSection(&amp;quot;geoSettings/summary&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;remove-in-custom-section&quot;&gt;&lt;/a&gt;删除已有的元素&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;XmlDocument xmlDoc = new XmlDocument();
xmlDoc.Load(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);

XmlNode nodeCity = xmlDoc.SelectSingleNode(&amp;quot;//geoSettings/summary/add[@key=&amp;#39;City&amp;#39;]&amp;quot;);
nodeCity.ParentNode.RemoveChild(nodeCity);

xmlDoc.Save(AppDomain.CurrentDomain.SetupInformation.ConfigurationFile);
ConfigurationManager.RefreshSection(&amp;quot;geoSettings/summary&amp;quot;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;print-out-keys&quot;&gt;&lt;/a&gt;输出全部元素&lt;/h2&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;NameValueCollection settings = ConfigurationManager.AppSettings;
// var settings = ConfigurationManager.GetSection(&amp;quot;geoSettings/summary&amp;quot;) as NameValueCollection;

foreach (string key in appSettings.AllKeys) {
    Console.WriteLine(&amp;quot;{0}: {1}&amp;quot;, key, section[key]);
}
Console.WriteLine();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;references&quot;&gt;&lt;/a&gt;参考文献&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/q/8807218/1177636&quot;&gt;Modifying app.config at runtime throws exception&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/q/8522912/1177636&quot;&gt;update app.config file programatically with ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None);&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/q/8130085/1177636&quot;&gt;Opening the machine/base Web.Config (64bit) through code&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

</description>
                    <link>http://cn.yizeng.me/2013/08/31/update-appsettings-and-custom-configuration-sections-in-appconfig-at-runtime</link>
                    <guid>http://cn.yizeng.me/2013/08/31/update-appsettings-and-custom-configuration-sections-in-appconfig-at-runtime</guid>
                    <pubDate>Sat, 31 Aug 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>使用 Selenium WebDriver C# 和 Ruby 给浏览器设置 User Agent</title>
                    <description>&lt;p&gt;本文展示了如何使用 Selenium WebDriver C# and Ruby 给 Chrome，Firefox，IE，PhantomJS 浏览器设置 User Agent 的方法。&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;环境:&lt;br /&gt;
Linux Mint 15, Ruby 2.0.0p247, Selenium 2.39.0, ChromDriver 2.8&lt;br/&gt;
Firefox 26.0, Chrome 31, PhantomJS 1.9.2&lt;/p&gt;

&lt;p&gt;User Agent 示例（ipad）:&lt;br /&gt;
Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10&lt;/p&gt;&lt;/blockquote&gt;

&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;chrome&quot;&gt;&lt;/a&gt;Chrome&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;chrome-c-sharp&quot;&gt;&lt;/a&gt;C&amp;#35;&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;var options = new ChromeOptions();
options.AddArgument(&amp;quot;--user-agent=Mozilla/5.0 (iPad; CPU OS 6_0 like Mac OS X) AppleWebKit/536.26 (KHTML, like Gecko) Version/6.0 Mobile/10A5355d Safari/8536.25&amp;quot;);

IWebDriver driver = new ChromeDriver(options);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;chrome-ruby&quot;&gt;&lt;/a&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;selenium-webdriver&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:chrome&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:switches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%w[--user-agent=Mozilla/5.0(iPad;\ U;\ CPU\ iPhone\ OS\ 3_2\ like\ Mac\ OS\ X;\ en-us)\ AppleWebKit/531.21.10\ (KHTML,\ like\ Gecko)\ Version/4.0.4\ Mobile/7B314\ Safari/531.21.10]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;firefox&quot;&gt;&lt;/a&gt;Firefox&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;firefox-c-sharp&quot;&gt;&lt;/a&gt;C&amp;#35;&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;var profile = new FirefoxProfile();
profile.SetPreference(&amp;quot;general.useragent.override&amp;quot;, &amp;quot;Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10&amp;quot;);

IWebDriver driver = new FirefoxDriver(profile);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;firefox-ruby&quot;&gt;&lt;/a&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;selenium-webdriver&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Firefox&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Profile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;profile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;general.useragent.override&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:firefox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:profile&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;profile&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;phantomjs&quot;&gt;&lt;/a&gt;PhantomJS&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;phantomjs-c-sharp&quot;&gt;&lt;/a&gt;C&amp;#35;&lt;/h3&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-c#&quot;&gt;&lt;code&gt;var options = new PhantomJSOptions();
options.AddAdditionalCapability(&amp;quot;phantomjs.page.settings.userAgent&amp;quot;, &amp;quot;Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10&amp;quot;);

IWebDriver driver = new PhantomJSDriver(options);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;phantomjs-ruby&quot;&gt;&lt;/a&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;selenium-webdriver&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;capabilities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Remote&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Capabilities&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phantomjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;phantomjs.page.settings.userAgent&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Mozilla/5.0(iPad; U; CPU iPhone OS 3_2 like Mac OS X; en-us) AppleWebKit/531.21.10 (KHTML, like Gecko) Version/4.0.4 Mobile/7B314 Safari/531.21.10&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:phantomjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:desired_capabilities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;capabilities&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;ie&quot;&gt;&lt;/a&gt;IE&lt;/h2&gt;

&lt;p&gt;不幸但可以预见，IE 不允许 Selenium WebDriver 原生地来设置 User Agent。
&lt;a href=&quot;https://groups.google.com/d/msg/selenium-users/q1f-nIn1BJY/pjnmCc3jSz4J&quot;&gt;引用&lt;/a&gt;自 IE driver 的维护者 Jim Evans：&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;The IE driver does not support changing the user agent, using capabilities or otherwise. Full stop.&lt;/p&gt;&lt;/blockquote&gt;
</description>
                    <link>http://cn.yizeng.me/2013/08/10/set-user-agent-using-selenium-webdriver-c-and-ruby</link>
                    <guid>http://cn.yizeng.me/2013/08/10/set-user-agent-using-selenium-webdriver-c-and-ruby</guid>
                    <pubDate>Sat, 10 Aug 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>在 GNOME 中反转触摸板而不改变鼠标键位</title>
                    <description>&lt;p&gt;作为一个使用反转了左右键位的触摸板，却使用正常键位鼠标的左撇子用户，在安装了 Linux Mint 15 Cinnamon 桌面之后，不能从 &quot;System Settings -&gt; Mouse and Touchpad&quot; 分别设置触摸板和鼠标的左右键位是一件很恼人的事情。&lt;/p&gt;

&lt;p&gt;不过在经过了短暂的研究后，受此 &lt;a href=&quot;http://askubuntu.com/questions/83590/how-do-i-disable-the-touchpad-using-the-upper-left-corner-on-an-hp-pavilion-dv6&quot;&gt;AskUbuntu 问答&lt;/a&gt;启发，找到了一个简单的通过 GNOME &lt;a href=&quot;https://developer.gnome.org/gio/2.34/GSettings.html&quot;&gt;Gsettings&lt;/a&gt; 来设置的解决方法。&lt;/p&gt;

&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;invert-touchpad&quot;&gt;&lt;/a&gt;反转触摸板&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;using-cli&quot;&gt;&lt;/a&gt;通过命令行&lt;/h3&gt;

&lt;p&gt;在 Gsettings 里, &lt;code&gt;touchpad&lt;/code&gt; 下面有一个子键叫做 &lt;code&gt;left-handed&lt;/code&gt;，是用来控制触摸板的左右键位属性的，该子键是一个 string 类型，默认键值为 &quot;mouse&quot;，但可以设置成 &quot;left&quot; 或 &quot;right&quot;。&lt;/p&gt;

&lt;p&gt;通过终端，输入以下命令来将其设成左利手键位：&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;gsettings set org.gnome.settings-daemon.peripherals.touchpad left-handed left&lt;/p&gt;&lt;/blockquote&gt;

&lt;h3&gt;&lt;a id=&quot;using-gui&quot;&gt;&lt;/a&gt;通过图形化界面 &quot;dconf-editor&quot;&lt;/h3&gt;

&lt;p&gt;Gsettings 有一个图形化工具叫做 &quot;dconf-editor&quot;，
它使用二进制大对象数据库来保存全部设置和键值。(两者之间的关系和 “Windows Regitry” 与 “regedit” 类似。)&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;首先安装 &lt;code&gt;dconf-editor&lt;/code&gt;, 在终端中输入：&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;sudo apt-get install dconf-tools&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;然后通过 &lt;code&gt;Alt&lt;/code&gt; + &lt;code&gt;F2&lt;/code&gt;， 输入 &lt;code&gt;dconf-editor&lt;/code&gt; 并敲击 &lt;code&gt;Enter&lt;/code&gt; 来打开它。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在打开的 “dconf-editor” 窗口中输入 &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;F&lt;/code&gt; 来搜索 &lt;code&gt;touchpad&lt;/code&gt; 字段。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在 &lt;code&gt;touchpad&lt;/code&gt; 下点选子键 &lt;code&gt;left-handed&lt;/code&gt; 并将其键值设置为 &lt;code&gt;left&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;a class=&quot;post-image&quot; href=&quot;/assets/images/posts/2013-07-14-dconf-editor-periperals-touchpad.png&quot; title=&quot;从 dconf-editor 反转触摸板&quot;&gt;
    &lt;img itemprop=&quot;image&quot; data-src=&quot;/assets/images/posts/2013-07-14-dconf-editor-periperals-touchpad.png&quot; src=&quot;/assets/js/unveil/loader.gif&quot; alt=&quot;从 dconf-editor 反转触摸板&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;invert-mouse&quot;&gt;&lt;/a&gt;反转鼠标&lt;/h2&gt;

&lt;p&gt;如果也想将鼠标的左右键位反转，可以通过命令行、“系统设置”或是 &quot;dconf-editor&quot; 来进行。不过请注意 &lt;code&gt;peripherals.mouse&lt;/code&gt; 下的子键 &lt;code&gt;left-handed&lt;/code&gt; 所保存的键值是布尔类型，即只应被设置为 &quot;true&quot; 或 &quot;false&quot;。&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;gsettings set org.gnome.settings-daemon.peripherals.mouse left-handed true&lt;/p&gt;&lt;/blockquote&gt;
</description>
                    <link>http://cn.yizeng.me/2013/07/14/invert-touchpad-without-changing-mouse-in-gnome</link>
                    <guid>http://cn.yizeng.me/2013/07/14/invert-touchpad-without-changing-mouse-in-gnome</guid>
                    <pubDate>Sun, 14 Jul 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>在 Linux Mint 上安装 TortoiseHg</title>
                    <description>&lt;p&gt;本文记录了如何通过官方 &lt;a href=&quot;https://launchpad.net/~tortoisehg-ppa/+archive/releases&quot;&gt;TortoiseHg Release PPA&lt;/a&gt;
在 Linux Mint 15 上安装 &lt;a href=&quot;http://tortoisehg.bitbucket.org/&quot;&gt;TortoiseHg&lt;/a&gt;。&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;strong&gt;注意&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;不推荐同时也向系统添加&lt;a href=&quot;https://launchpad.net/~mercurial-ppa/+archive/releases&quot;&gt;Mercurial PPA&lt;/a&gt;，
因为 TortoiseHg 对于同何版本的 Mercurial 共同工作有着严格的要求。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://launchpad.net/~tortoisehg-ppa/+archive/stable-snapshots&quot;&gt;TortoiseHg PPA Stable Snapshots&lt;/a&gt;
提供了最新稳定版本的安装包。&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;br /&gt;&lt;strong&gt;步骤&lt;/strong&gt;:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;向系统添加 &lt;a href=&quot;https://launchpad.net/~tortoisehg-ppa/+archive/releases&quot;&gt;TortoiseHg Release PPA&lt;/a&gt;

&lt;blockquote&gt;&lt;p&gt;sudo add-apt-repository ppa:tortoisehg-ppa/releases&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;更新软件包及依赖关系

&lt;blockquote&gt;&lt;p&gt;sudo apt-get update&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;tortoisehg&lt;/code&gt; 软件包

&lt;blockquote&gt;&lt;p&gt;sudo apt-get install tortoisehg&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;测试安装是否成功

&lt;blockquote&gt;&lt;p&gt;hg --version&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;终端输出示例:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Mercurial Distributed SCM (version 2.6.1)
(see http://mercurial.selenic.com for more information)

Copyright (C) 2005-2012 Matt Mackall and others
This is free software; see the source for copying conditions. There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
&lt;/code&gt;&lt;/pre&gt;
</description>
                    <link>http://cn.yizeng.me/2013/07/02/install-tortoisehg-on-linux-mint</link>
                    <guid>http://cn.yizeng.me/2013/07/02/install-tortoisehg-on-linux-mint</guid>
                    <pubDate>Tue, 02 Jul 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>在 Travis CI 上创建 Selenium WebDriver Ruby 项目</title>
                    <description>&lt;blockquote&gt;&lt;p&gt;原文已于2013年9月10日更新，请点击&lt;a href=&quot;http://yizeng.me/2013/06/15/setup-a-selenium-webdriver-ruby-project-on-travis-ci/&quot;&gt;本链接&lt;/a&gt;查看最新版本&lt;/p&gt;&lt;/blockquote&gt;

&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;create-repo&quot;&gt;&lt;/a&gt;在 Github 上创建一个代码仓库&lt;/h2&gt;

&lt;p&gt;要想在 Travis CI 上运行项目，必须首先要在 Github 上创建一个代码仓库。
如果还没有建立代码仓库，请前往 Github 的 &lt;a href=&quot;https://github.com/repositories/new&quot;&gt;&#39;Create a New Repository&#39;&lt;/a&gt; 页面创建一个新的公开代码仓库。&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;create-project&quot;&gt;&lt;/a&gt;建立 Selenium WebDriver Ruby 项目&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;project-structure&quot;&gt;&lt;/a&gt;项目结构&lt;/h3&gt;

&lt;p&gt;以下是本示例 Selenium Ruby 项目的结构：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;/root                       -- 代码的根目录
    /test                   -- 示例测试的文件夹
        test_home_page.rb   -- 示例测试文件
    .travis.yml             -- Travis CI 的配置文件
    README.md
    Rakefile                -- Rakefile
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;create-sample-test&quot;&gt;&lt;/a&gt;编写一个使用 headless PhantomJS 的 UI 测试&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Test::Unit&lt;/code&gt; 是本示例所使用的测试框架。&lt;/li&gt;
&lt;li&gt;Headless WebKit &lt;a href=&quot;http://phantomjs.org/&quot;&gt;PhantomJS&lt;/a&gt; 是本示例将要测试的浏览器。&lt;/li&gt;
&lt;li&gt;PhantomJS 的可执行文件应该已经被预案装于 &lt;a href=&quot;http://about.travis-ci.org/docs/user/ci-environment/&quot;&gt;Travis CI 服务器&lt;/a&gt;上，
目前于 05/07/2013 时的版本为 &lt;code&gt;1.9.1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Travis CI 同时也支持需要运行 GUI 的测试, 请查阅&lt;a href=&quot;http://about.travis-ci.org/docs/user/gui-and-headless-browsers&quot;&gt;文档&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;以下为一个示例测试文件叫做 &lt;code&gt;test_home_page.rb&lt;/code&gt;：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;selenium-webdriver&amp;#39;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test/unit&amp;#39;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;module&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Test&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;TestHomePage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Unit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TestCase&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@driver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Selenium&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;WebDriver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:phantomjs&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;navigate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;http://yizeng.me&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;teardown&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_home_page_title&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;assert_equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Yi Zeng&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;add-rakefile&quot;&gt;&lt;/a&gt;添加 Rakefile&lt;/h3&gt;

&lt;p&gt;Travis CI 使用 &lt;code&gt;Rakefile&lt;/code&gt; 来编译项目并运行测试，如果该文件不存在，编译会像如下一样报错：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rake
rake aborted!
No Rakefile found (looking for: rakefile, Rakefile, rakefile.rb, Rakefile.rb)
The command &quot;rake&quot; exited with 1.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以下为 Rakefile 示例：&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rake/testtask&amp;#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:default&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Rake&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TestTask&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# 确保路径包含示例测试文件&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test_files&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FileList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;test/test_*.rb&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;&lt;a id=&quot;add-travis-yml&quot;&gt;&lt;/a&gt;添加 .travis.yml&lt;/h3&gt;

&lt;p&gt;Travis CI 使用在项目根目录下的 &lt;code&gt;.travis.yml&lt;/code&gt; 来了解项目配置，例如：&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;项目所使用的编程语言&lt;/li&gt;
&lt;li&gt;运行项目的 setup 和 cleanup&lt;/li&gt;
&lt;li&gt;运行项目所需要的命令&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;因为示例项目是写于 Ruby 的，故 Ruby 的配置将被使用于 &lt;code&gt;.travis.yml&lt;/code&gt; 中。
详细的官方文档可以&lt;a href=&quot;http://about.travis-ci.org/docs/user/languages/ruby/&quot;&gt;在这里&lt;/a&gt;被查阅。
想要验证配置文件，&lt;a href=&quot;http://about.travis-ci.org/docs/user/travis-lint/&quot;&gt;Travis Lint&lt;/a&gt; 会是一个非常方便的工具，不过最简单的方法是前往 &lt;a href=&quot;http://lint.travis-ci.org/&quot;&gt;Travis WebLint&lt;/a&gt; 页面，直接粘贴进配置文件内容。&lt;/p&gt;

&lt;div&gt;&lt;pre class=&quot;prettyprint lang-yaml&quot;&gt;&lt;code&gt;# 示例 .travis.yml 文件:
language: ruby

rvm: # 将被使用的 Ruby 版本
  - 2.0.0
  - 1.9.3
  - 1.9.2

before_install:
  - gem update # 可选，更新所有的 gems
  - gem install selenium-webdriver
  - phantomjs --version # 输出 phantomjs 版本&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;push-to-github&quot;&gt;&lt;/a&gt;上传至 Github&lt;/h2&gt;

&lt;p&gt;一旦代码仓库已正确设立了，就可以上传至 Github。&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;enable-hook&quot;&gt;&lt;/a&gt;登入 Travis CI 并开启 hook&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;使用本项目的 Github 帐号登入 Travis CI&lt;/li&gt;
&lt;li&gt;前往 &lt;a href=&quot;https://travis-ci.org/profile&quot;&gt;Travis CI profile&lt;/a&gt; 页面并找到此项目的代码仓库，
如果此项目不在列表中，请确认：

&lt;ul&gt;
&lt;li&gt;此代码仓库不是私有的&lt;/li&gt;
&lt;li&gt;Travis CI 已经与 Github 同步 （如果需要可以点击 “立即同步” 按钮）&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;开启此代码仓库的 hook&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;a class=&quot;post-image&quot; href=&quot;/assets/images/posts/2013-06-09-enable-hook-on-travis-ci.gif&quot; title=&quot;在 Travis CI 上开启 hook&quot;&gt;
  &lt;img itemprop=&quot;image&quot; data-src=&quot;/assets/images/posts/2013-06-09-enable-hook-on-travis-ci.gif&quot; src=&quot;/assets/js/unveil/loader.gif&quot; alt=&quot;在 Travis CI 上开启 hook&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;run-project&quot;&gt;&lt;/a&gt;在 Travis CI 上运行项目&lt;/h2&gt;

&lt;p&gt;只要有更新上传至代码仓库，Travis CI 应该会自动运行项目。&lt;/p&gt;

&lt;p&gt;不仅如此，若想要手动运行项目，可以通过以下几步：&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;前往 Github 上项目的设置页面&lt;/li&gt;
&lt;li&gt;点选 tab &lt;code&gt;Service Hooks&lt;/code&gt; (url: https://github.com/[GITHUB_USERNAME]/[REPO_NAME]/settings/hooks)&lt;/li&gt;
&lt;li&gt;在列表中下部找到 &lt;code&gt;Travis&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;点 &lt;code&gt;Test Hook&lt;/code&gt; 按钮&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;&lt;a id=&quot;analyze-results&quot;&gt;&lt;/a&gt;在 Travis CI 上分析结果&lt;/h2&gt;

&lt;h3&gt;&lt;a id=&quot;results-page&quot;&gt;&lt;/a&gt;Travis CI 上的项目页面&lt;/h3&gt;

&lt;p&gt;Travis CI 上的项目页面在 &lt;code&gt;https://travis-ci.org/[GITHUB_USERNAME]/[REPO_NAME]&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;a class=&quot;post-image&quot; href=&quot;/assets/images/posts/2013-06-15-results-page-on-travis-ci.gif&quot; title=&quot;Travis CI 的运行结果页面&quot;&gt;
  &lt;img itemprop=&quot;image&quot; data-src=&quot;/assets/images/posts/2013-06-15-results-page-on-travis-ci.gif&quot; src=&quot;/assets/js/unveil/loader.gif&quot; alt=&quot;Travis CI 的运行结果页面&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;&lt;a id=&quot;build-log&quot;&gt;&lt;/a&gt;运行日志&lt;/h3&gt;

&lt;p&gt;点击每个运行序号将会打开该次运行的的日志，里面基本包括所有在运行过程中的控制台输出内容。&lt;/p&gt;

&lt;h3&gt;&lt;a id=&quot;test-results&quot;&gt;&lt;/a&gt;测试结果&lt;/h3&gt;

&lt;p&gt;测试结果显示在运行日志中的 &lt;code&gt;rake&lt;/code&gt; 部分。
例如，下面为&lt;a href=&quot;https://travis-ci.org/yizeng/setup-selenium-webdriver-ruby-project-on-travis-ci/jobs/8109067&quot;&gt;此次运行的日志里的测试结果&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ rake
/home/travis/.rvm/rubies/ruby-2.0.0-p0/bin/ruby -I&quot;lib:test&quot; -I&quot;/home/travis/.rvm/gems/ruby-2.0.0-p0/gems/rake-10.0.4/lib&quot; &quot;/home/travis/.rvm/gems/ruby-2.0.0-p0/gems/rake-10.0.4/lib/rake/rake_test_loader.rb&quot; &quot;test/test_home_page.rb&quot; 
Run options:

# Running tests:

Finished tests in 1.078374s, 0.9273 tests/s, 0.9273 assertions/s.
1 tests, 1 assertions, 0 failures, 0 errors, 0 skips

ruby -v: ruby 2.0.0p0 (2013-02-24 revision 39474) [x86_64-linux]
The command &quot;rake&quot; exited with 0.
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;&lt;a id=&quot;build-status-images&quot;&gt;&lt;/a&gt;项目状态图标&lt;/h3&gt;

&lt;p&gt;Travis CI 为项目提供了 &lt;a href=&quot;http://about.travis-ci.org/docs/user/status-images/&quot;&gt;项目状态图标&lt;/a&gt;，
它们作为项目开发的好习惯，被鼓励用于项目主页或 README 文件中。&lt;/p&gt;

&lt;p&gt;项目状态图标储存在 &lt;code&gt;https://travis-ci.org/[GITHUB_USERNAME]/[REPO_NAME].png&lt;/code&gt;，
branches 可以通过如 &lt;code&gt;?branch=master,staging,production&lt;/code&gt; 的 URL query 字符串来额外添加。&lt;/p&gt;

&lt;p&gt;除此之外，在 Travis CI 上的项目主页，点击设置按钮，然后选择 &lt;code&gt;Status Image&lt;/code&gt;，
一个对话框将会显示全部可能的选项，如下图所示：&lt;/p&gt;

&lt;p&gt;&lt;a class=&quot;post-image&quot; href=&quot;/assets/images/posts/2013-07-05-travis-ci-status-image-options.gif&quot; title=&quot;Travis CI 项目状态图标选项&quot;&gt;
  &lt;img itemprop=&quot;image&quot; data-src=&quot;/assets/images/posts/2013-07-05-travis-ci-status-image-options.gif&quot; src=&quot;/assets/js/unveil/loader.gif&quot; alt=&quot;Travis CI 项目状态图标选项&quot; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;目前本示例项目的运行状态为： &lt;a class=&quot;image-link&quot; href=&quot;https://travis-ci.org/yizeng/setup-selenium-webdriver-ruby-project-on-travis-ci&quot; title=&quot;Travis CI 项目状态&quot;&gt;&lt;img src=&quot;https://travis-ci.org/yizeng/setup-selenium-webdriver-ruby-project-on-travis-ci.png&quot; alt=&quot;Travis CI 项目状态&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
</description>
                    <link>http://cn.yizeng.me/2013/06/15/setup-a-selenium-webdriver-ruby-project-on-travis-ci</link>
                    <guid>http://cn.yizeng.me/2013/06/15/setup-a-selenium-webdriver-ruby-project-on-travis-ci</guid>
                    <pubDate>Sat, 15 Jun 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>创建自定义的 Jekyll 404 页面</title>
                    <description>&lt;p&gt;本文示例了如何给储存在 &lt;a href=&quot;http://pages.github.com/&quot;&gt;GitHub Page&lt;/a&gt; 服务器上的 Jekyll 网站创建自定义的 Jekyll 404 页面，对于使用其他服务器的 Jekyll 网站情况可能有所不同。同时还需要注意的是，自定义的 404 页面仅对使用了自己域名的网站有效。查看更详细官方的文档，请点击 GitHub Pages 的官方文档 &lt;a href=&quot;https://help.github.com/articles/custom-404-pages&quot;&gt;Custom 404 Pages - GitHub Help&lt;/a&gt;。&lt;/p&gt;

&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;create-404-file&quot;&gt;&lt;/a&gt;创建 404.html 文件&lt;/h2&gt;

&lt;p&gt;在 Jekyll 网站的根目录下创建 &lt;code&gt;404.html&lt;/code&gt;，此文件必须为 HTML 格式。&lt;/p&gt;

&lt;h2&gt;&lt;a id=&quot;add-front-matter&quot;&gt;&lt;/a&gt;添加 YAML Front Matter&lt;/h2&gt;

&lt;p&gt;由于本文的目标是创建一个和其他所有页面主题一致的自定义 404 页面，而非重写一个单独的 404.html，所以首先添加&lt;a href=&quot;http://jekyllrb.com/docs/frontmatter/&quot;&gt;YAML Front Matter&lt;/a&gt;至 404.html 的头部并设置 layout 为 &quot;page&quot;。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
layout: page
title: 404
---
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;add-404-content&quot;&gt;&lt;/a&gt;添加 404 内容&lt;/h2&gt;

&lt;p&gt;在 &lt;a href=&quot;http://jekyllrb.com/docs/frontmatter/&quot;&gt;YAML Front Matter&lt;/a&gt; 部分后添加真正的404内容。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
layout: page
title: 404
---
&amp;lt;p&amp;gt;对不起，无法找到该页。 =(&amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;&lt;a id=&quot;redirect-page&quot;&gt;&lt;/a&gt;自动跳转 404 页面&lt;/h2&gt;

&lt;p&gt;为了让 404 页面能自动跳转，迄今为止所找到的最简单的方法是通过 HTML meta 标签，&lt;code&gt;meta http-equiv=&quot;refresh&quot;&lt;/code&gt;。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在 Jekyll 的 default.html 文件里 (例如： 本网站的在 /_includes/themes/THEME_NAME/default.html), 在 &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; 标签内添加一个 &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; 标签。 (&lt;a href=&quot;http://www.w3schools.com/tags/att_meta_http_equiv.asp&quot;&gt;W3schools 示例&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;给 meta 标签添加一个 &lt;code&gt;http-equiv&lt;/code&gt; 属性并设置为 &quot;refresh&quot;, i.e &lt;code&gt;&amp;lt;meta http-equiv=&quot;refresh&quot;&amp;gt;&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;再给 meta 标签添加一个 &lt;code&gt;content&lt;/code&gt; 属性并设置为 &lt;code&gt;content=&quot;5; url=/&quot;&lt;/code&gt;。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;5&lt;/code&gt; 代表着在自动跳转前所等待的秒数。 设置为 &lt;code&gt;0&lt;/code&gt; 表示不做任何等待并立即跳转。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url=/&lt;/code&gt; 设置了跳转的 URL， 可以被设置成任何链接，如 &lt;code&gt;url=http://yizeng.me&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;使用 &lt;a href=&quot;http://wiki.shopify.com/Liquid#If_.2F_Else_.2F_Unless&quot;&gt;Liquid&#39;s if-else&lt;/a&gt; 语句来确保自动跳转只发生于 &lt;code&gt;404.html&lt;/code&gt;。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;script src=&quot;https://gist.github.com/yizeng/a4f26459bc8795476ed4.js&quot;&gt;&lt;/script&gt;


&lt;p&gt;&lt;strong&gt;以下为一个完整的 &lt;code&gt;default.html&lt;/code&gt; 示例:&lt;/strong&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/yizeng/5428d29c3d5af224475b.js&quot;&gt;&lt;/script&gt;


&lt;h2&gt;&lt;a id=&quot;test-404-page&quot;&gt;&lt;/a&gt;测试 404 页面&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在本地使用命令 &lt;code&gt;jekyll serve&lt;/code&gt; 来 build Jekyll 服务器，然后前往 &lt;code&gt;localhost:4000/404.html&lt;/code&gt;, 看看自定义的 404 页面是否正常工作。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;提交至 GitHub 看看是否 404 能正常工作。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;前往网站上的一个不存在的网址，如 http://yizeng.me/go_404，看页面是否能正常显示，是否能自动跳转至指定的页面。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

</description>
                    <link>http://cn.yizeng.me/2013/05/26/create-a-custom-jekyll-404-page</link>
                    <guid>http://cn.yizeng.me/2013/05/26/create-a-custom-jekyll-404-page</guid>
                    <pubDate>Sun, 26 May 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>如何使用 _netrc 来避免 TortoiseGit 要求输入用户名和密码</title>
                    <description>&lt;ol&gt;
&lt;li&gt;从文件管理器打开 &lt;code&gt;%USERPROFILE%&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;新建一个文件，名为 &lt;code&gt;_netrc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;在文件中输入以下几行：&lt;/li&gt;
&lt;/ol&gt;


&lt;blockquote&gt;&lt;p&gt;machine github.com&lt;br /&gt;
login yizeng&lt;br /&gt;
password the_password&lt;br /&gt;&lt;/p&gt;&lt;/blockquote&gt;
</description>
                    <link>http://cn.yizeng.me/2013/05/19/use-_netrc-to-avoid-tortoisegit-asking-for-username-and-password</link>
                    <guid>http://cn.yizeng.me/2013/05/19/use-_netrc-to-avoid-tortoisegit-asking-for-username-and-password</guid>
                    <pubDate>Sun, 19 May 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>Jekyll 使用过程中的一些常用的 RubyGems 命令</title>
                    <description>&lt;p&gt;&lt;code&gt;gem --help&lt;/code&gt; 显然会是很有用且值得一读的，可惜过长，故挑出以下一些命令作为常用参考。&lt;/p&gt;

&lt;h2&gt;安装/卸载 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem install jekyll&lt;/p&gt;

&lt;p&gt;gem uninstall jekyll&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;安装某特定版本的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem install pygments.rb --version 0.4.2&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;卸载某特定版本的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem uninstall jekyll # 提示 &#39;Select gem to uninstall&#39; 并让用户选择&lt;/p&gt;

&lt;p&gt;gem uninstall jekyll --version 1.0.1&lt;/p&gt;

&lt;p&gt;gem cleanup jekyll # 清除所有旧版本的 jekyll&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;列出所有本地的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem list --local&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;列出所有的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem list --all&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;列出所有 Jekyll 的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem list jekyll&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;更新已安装的 Gems&lt;/h2&gt;

&lt;blockquote&gt;&lt;p&gt;gem update&lt;/p&gt;&lt;/blockquote&gt;
</description>
                    <link>http://cn.yizeng.me/2013/05/17/quick-rubygems-command-references-for-jekyll</link>
                    <guid>http://cn.yizeng.me/2013/05/17/quick-rubygems-command-references-for-jekyll</guid>
                    <pubDate>Fri, 17 May 2013 00:00:00 +1200</pubDate>
            </item>
        
            <item>
                    <title>在 Windows 上安装 Jekyll</title>
                    <description>&lt;div id=&quot;toc&quot;&gt;&lt;/div&gt;


&lt;h2&gt;&lt;a id=&quot;install-ruby&quot;&gt;&lt;/a&gt;安装 Ruby&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;前往 &lt;a href=&quot;http://rubyinstaller.org/downloads/&quot;&gt;http://rubyinstaller.org/downloads/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;在 &quot;RubyInstallers&quot; 部分，选择某个版本点击下载。
&lt;br /&gt;例如， &lt;code&gt;Ruby 2.0.0-p451 (x64)&lt;/code&gt; 适于64位 Windows 机器上的
Ruby 2.0.0 x64 安装包。&lt;/li&gt;
&lt;li&gt;通过安装包安装

&lt;ul&gt;
&lt;li&gt;最好保持默认的路径 C:\Ruby200-x64，因为安装包明确提出 “请不要使用带有空格的文件夹 (如： Program Files)”。&lt;/li&gt;
&lt;li&gt;勾选 &quot;Add Ruby executables to your PATH&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&lt;a class=&quot;post-image&quot; href=&quot;/assets/images/posts/2013-05-11-ruby-installer.png&quot; title=&quot;Windows Ruby 安装包&quot;&gt;
    &lt;img itemprop=&quot;image&quot; data-src=&quot;/assets/images/posts/2013-05-11-ruby-installer.png&quot; src=&quot;/assets/js/unveil/loader.gif&quot; alt=&quot;Windows Ruby 安装包&quot; /&gt;
&lt;/a&gt;
4. 检验安装是否成功&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;ruby --version&lt;/p&gt;&lt;/blockquote&gt;

&lt;h2&gt;&lt;a id=&quot;install-devkit&quot;&gt;&lt;/a&gt;安装 DevKit&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;完整的&lt;a href=&quot;https://github.com/oneclick/rubyinstaller/wiki/Development-Kit#installation-instructions&quot;&gt;官方安装教程&lt;/a&gt;可在 Github 上阅读。&lt;/li&gt;
&lt;li&gt;前往 &lt;a href=&quot;http://rubyinstaller.org/downloads/&quot;&gt;http://rubyinstaller.org/downloads/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;下载同系统及 Ruby 版本相对应的 DevKit 安装包。
例如，&lt;code&gt;DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe&lt;/code&gt; 适用于64位 Windows 系统上的 Ruby 2.0.0 x64。
&lt;br /&gt;下面列出了如何选择正确的 DevKit 版本：&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;&lt;strong&gt;Ruby 1.8.6 to 1.9.3&lt;/strong&gt;: DevKit tdm-32-4.5.2&lt;br /&gt;
&lt;strong&gt;Ruby 2.0.0&lt;/strong&gt;: DevKit mingw64-32-4.7.2&lt;br /&gt;
&lt;strong&gt;Ruby 2.0.0 x64&lt;/strong&gt;: DevKit mingw64-64-4.7.2&lt;br /&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;运行安装包并解压缩至某文件夹，如 &lt;code&gt;C:\DevKit&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;通过初始化来创建 config.yml 文件。在命令行窗口内，输入下列命令：

&lt;blockquote&gt;&lt;p&gt;cd &quot;C:\DevKit&quot;&lt;br /&gt;
ruby dk.rb init&lt;br /&gt;
notepad config.yml&lt;br /&gt;&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;在打开的记事本窗口中，于末尾添加新的一行 &lt;code&gt;- C:\Ruby200-x64&lt;/code&gt;，保存文件并退出。&lt;/li&gt;
&lt;li&gt;回到命令行窗口内，审查（非必须）并安装

&lt;blockquote&gt;&lt;p&gt;ruby dk.rb review&lt;br /&gt;
ruby dk.rb install&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;&lt;a id=&quot;install-jekyll&quot;&gt;&lt;/a&gt;安装 Jekyll&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;确保 gem 已经正确安装

&lt;blockquote&gt;&lt;p&gt;gem --version&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;安装 Jekyll gem

&lt;blockquote&gt;&lt;p&gt;gem install jekyll&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;&lt;a id=&quot;install-pygements&quot;&gt;&lt;/a&gt;安装 Pygments&lt;/h2&gt;

&lt;p&gt;Pygments 是 Jekyll 使用的语法高亮插件。
若想使用 Pygments 来高亮代码段，
首先需要安装 Python，并在网站配置文件 &lt;code&gt;_config.yml&lt;/code&gt; 里将 &lt;code&gt;highlighter&lt;/code&gt; 的值设置为 &lt;code&gt;pygments&lt;/code&gt;。&lt;/p&gt;

&lt;p&gt;不久之前，Jekyll 添加了另一个 Ruby 原生的高亮引擎 &lt;a href=&quot;https://github.com/jayferd/rouge&quot;&gt;Rouge&lt;/a&gt;，
尽管不能支持和 Pygments 一样数量的语言，但它是不需要 Python 的。
更多信息可以在&lt;a href=&quot;http://jekyllrb.com/docs/templates/#code_snippet_highlighting&quot;&gt;官方文档&lt;/a&gt;内查阅。&lt;/p&gt;

&lt;h3&gt;&lt;a id=&quot;install-python&quot;&gt;&lt;/a&gt;安装 Python&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;前往 &lt;a href=&quot;http://www.python.org/download/&quot;&gt;http://www.python.org/download/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载 Python windows 安装包 &lt;code&gt;Python 2.7.6 Windows Installer&lt;/code&gt;。
请注意，Python 2 可能会更合适，因为暂时 Python 3 可能不会正常工作。&lt;/li&gt;
&lt;li&gt;安装&lt;/li&gt;
&lt;li&gt;添加安装路径 (如： &lt;code&gt;C:\Python27&lt;/code&gt;) 至 PATH&lt;/li&gt;
&lt;li&gt;检验 Python 安装是否成功

&lt;blockquote&gt;&lt;p&gt;python --version&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h3&gt;&lt;a id=&quot;install-easy-install&quot;&gt;&lt;/a&gt;安装 &#39;Easy Install&#39;&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;前往 &lt;a href=&quot;https://pypi.python.org/pypi/setuptools#windows&quot;&gt;https://pypi.python.org/pypi/setuptools#windows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载 &#39;setuptools&#39; &lt;code&gt;setuptools-0.6c11.win32-py2.7.exe&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;添加 &#39;Python Scripts&#39; 路径 (如： &lt;code&gt;C:\Python27\Scripts&lt;/code&gt;) 至 PATH&lt;/li&gt;
&lt;/ol&gt;


&lt;h3&gt;&lt;a id=&quot;install-pygements-2&quot;&gt;&lt;/a&gt;安装 Pygments&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;确保 install 已经正确安装

&lt;blockquote&gt;&lt;p&gt;easy_install --help&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;安装 Pygments

&lt;blockquote&gt;&lt;p&gt;easy_install Pygments&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;


&lt;h2&gt;&lt;a id=&quot;start-jekyll&quot;&gt;&lt;/a&gt;启动 Jekyll&lt;/h2&gt;

&lt;p&gt;按照官方的 &lt;a href=&quot;http://jekyllrb.com/docs/quickstart/&quot;&gt;Jekyll 快速开始手册&lt;/a&gt;的步骤，
一个新的 Jekyll 博客可以被建立并在 &lt;a href=&quot;http://localhost:4000&quot;&gt;localhost:4000&lt;/a&gt; 浏览。&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;jekyll new myblog&lt;br /&gt;
cd myblog&lt;br /&gt;
jekyll serve&lt;br /&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;h3&gt;&lt;a id=&quot;troubleshooting&quot;&gt;&lt;/a&gt;故障诊断&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;错误信息：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; “python” is not recognized as an internal or external command, operable program or batch file.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;strong&gt;其他情况&lt;/strong&gt;: 这里的 &quot;python&quot; 也可能是 &quot;ruby&quot;， &quot;gem&quot; 或是 &quot;easy_install&quot; 等。&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能原因&lt;/strong&gt;: 该程序可能未被正确地在 PATH 里设置。&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能解法&lt;/strong&gt;: 将该程序手动添加至 PATH，详细请查看如下步骤 （&lt;a href=&quot;http://stackoverflow.com/a/6318188/1177636&quot;&gt;来源&lt;/a&gt;）。&lt;/p&gt;

&lt;blockquote&gt;&lt;ol&gt;
&lt;li&gt;按住 Win 键再按下 Pause。&lt;/li&gt;
&lt;li&gt;点击 Advanced System Settings.&lt;/li&gt;
&lt;li&gt;点击 Environment Variables.&lt;/li&gt;
&lt;li&gt;将 &lt;code&gt;;C:\python27&lt;/code&gt; 添加至 Path 变量的末尾。&lt;/li&gt;
&lt;li&gt;重启命令行&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误信息：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; ERROR:  Error installing jekyll:
         ERROR: Failed to build gem native extension.

 &quot;C:/Program Files/Ruby/Ruby200-x64/bin/ruby.exe&quot; extconf.rb

 creating Makefile
 make generating stemmer-x64-mingw32.def
 compiling porter.c
 ...
 make install
 /usr/bin/install -c -m 0755 stemmer.so C:/Program Files/Ruby/Ruby200-x64/lib/ruby/gems/2.0.0/gems/fast-stemmer-1.0.2/li

 /usr/bin/install: target `Files/Ruby/Ruby200-x64/lib/ruby/gems/2.0.0/gems/fast-stemmer-1.0.2/lib&#39; is not a directory
 make: *** [install-so] Error 1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;strong&gt;可能原因&lt;/strong&gt;: Ruby 被安装在含有空格的路径里。&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能解法&lt;/strong&gt;: 重新安装 Ruby，这次请不要使用带有空格的路径，或者请直接选择使用默认路径。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误信息：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; Generating...   Liquid Exception: No such file or directory - python c:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/pygments.rb-0.4.2/lib/pygments/mentos.py in 2013-04-22-hello-world.md
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;strong&gt;可能原因&lt;/strong&gt;: PATH 的添加啊还未生效&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能解法&lt;/strong&gt;: 首先请确保 PATH 内没有多余的空格或斜杠。然后请尝试重启命令行。如依旧不工作，请注销系统并重新登录，甚或重启系统。&lt;br /&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误信息：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/dependency.rb:296:in `to_specs&#39;: Could not find &#39;pygments.rb&#39; (~&amp;gt; 0.4.2) - did find: [pygments.rb-0.5.0] (Gem::LoadError)
 from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1196:in `block in activate_dependencies&#39;
 from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1185:in `each&#39;
 from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1185:in `activate_dependencies&#39;
 from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/specification.rb:1167:in `activate&#39;
 from c:/Ruby200-x64/lib/ruby/2.0.0/rubygems/core_ext/kernel_gem.rb:48:in`gem&#39;
 from c:/Ruby200-x64/bin/jekyll:22:in `&amp;lt;main&amp;gt;&#39;`
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;strong&gt;可能原因&lt;/strong&gt;: 如错误信息所述，找不到 pygments.rb 0.4.2，仅找到 pygments.rb 0.5.0。
 （此问题出现于此文初稿时的 Jekyll 版本，现版本应已修复。）&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能解法&lt;/strong&gt;: 卸载现有版本 0.5.0，重新安装 gem pygments.rb 的旧版本 0.4.2&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;gem uninstall pygments.rb --version “=0.5.0”&lt;br /&gt;
gem install pygments.rb --version “=0.4.2”&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;错误信息：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; Destination: d:/yizeng.me/_site
 Generating... c:/Ruby200-x64/lib/ruby/gems/2.0.0/gems/posix-spawn-0.3.6/lib/posix/spawn.rb:162: warning: cannot close fd before spawn
 Liquid Exception: No such file or directory - /bin/sh in _posts/2013-04-22-hello-world.md
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt; &lt;strong&gt;可能原因&lt;/strong&gt;: 与 pygments.rb 0.5.0 级以上版本的兼容性问题&lt;/p&gt;

&lt;p&gt; &lt;strong&gt;可能解法&lt;/strong&gt;: 从 pygments.rb 0.5.2/0.5.1 版本回滚到 0.5.0&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;gem uninstall pygments.rb --version &quot;=0.5.2&quot;&lt;br /&gt;
gem install pygments.rb --version &quot;=0.5.0&quot;&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ol&gt;

</description>
                    <link>http://cn.yizeng.me/2013/05/10/setup-jekyll-on-windows</link>
                    <guid>http://cn.yizeng.me/2013/05/10/setup-jekyll-on-windows</guid>
                    <pubDate>Fri, 10 May 2013 00:00:00 +1200</pubDate>
            </item>
        
    </channel>
</rss>
